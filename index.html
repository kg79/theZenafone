<!doctype html>
<html>
  <head>
    <script>
    
      let belowScale = [{fraction:`${0}`, decimal:`${0}`}];


      function below1() {
	  for (let i = 1; i < 9; i++) {
	      for (let k = i; k >= 0; k--) {
		  belowScale.push({fraction:`${k}/${i}`, decimal:`${k/i}`});
	      }
	  }

	  for (let i = 0; i < belowScale.length; i++) {
	      if (belowScale[i] == Infinity) {
		  belowScale.splice(i, 1);
	      }
	  }
	  let poolA, poolB;

	  for (let i = 0; i < belowScale.length; i++) {
	      for (let k = 1; k < belowScale.length; k++) {
		  if (belowScale[k].decimal < belowScale[k-1].decimal) {
		      poolA = belowScale[k].fraction;
		      poolB = belowScale[k].decimal;
		      belowScale[k].fraction = belowScale[k-1].fraction;
		      belowScale[k].decimal = belowScale[k-1].decimal;
		      belowScale[k-1].fraction = poolA;
		      belowScale[k-1].decimal = poolB;
		  }
	      }
	  }

	  for (let I = 0; I < 3; I++) {
	      for (let i = 0; i < belowScale.length-1; i++) {
		  if (belowScale[i].decimal == belowScale[i+1].decimal) {
		      belowScale.splice(i+1, 1);
		  }
	      }
	  }
	  return belowScale;
      }

      let aboveScale = [{fraction:`${0}`, decimal:`${0}`}];

      function above1() {
	  for (let i = 1; i < 9; i++) {
	      for (let k = i; k >= 0; k--) {
		  aboveScale.push({fraction:`${i}/${k}`, decimal:`${i/k}`});
	      }
	  }

	  for (let i = 0; i < aboveScale.length; i++) {
	      if (aboveScale[i] == Infinity) {
		  aboveScale.splice(i, 1);
	      }
	  }
	  let poolA, poolB;

	  for (let i = 0; i < aboveScale.length; i++) {
	      for (let k = 1; k < aboveScale.length; k++) {
		  if (aboveScale[k].decimal < aboveScale[k-1].decimal) {
		      poolA = aboveScale[k].fraction;
		      poolB = aboveScale[k].decimal;
		      aboveScale[k].fraction = aboveScale[k-1].fraction;
		      aboveScale[k].decimal = aboveScale[k-1].decimal;
		      aboveScale[k-1].fraction = poolA;
		      aboveScale[k-1].decimal = poolB;
		  }
	      }
	  }

	  for (let I = 0; I < 3; I++) {
	      for (let i = 0; i < aboveScale.length-1; i++) {
		  if (aboveScale[i].decimal == aboveScale[i+1].decimal) {
		      aboveScale.splice(i+1, 1);
		  }
	      }
	  }
	  return aboveScale;
      }

      below1();
      above1();

      aboveScale.splice(0, 2);

      let scale = belowScale.concat(aboveScale);

      scale.splice(scale.length-1, 1);

   
    </script>
    <style>
      body {
	  height:100vh;
	  width:100vw;
	  margin:0;
	  display:grid;
	  grid-template-columns:20vw 80vw;
	  grid-template-rows:20vh 80vh;
	  grid-template-areas:
	      "kaleidoscope legend"
		  "kaleidoscope interface"
      } #kaleidoscope {
	  background:hsl(276, 80%, 47%);
	  grid-area:kaleidoscope;
	  overflow-y:scroll;
	  display:grid;
	  grid-template-columns:auto auto auto auto;
      } #legend {
	  background:hsl(43, 62%, 51%);
	  grid-area:legend;
      } #interface {
	  background:hsl(357, 74%, 40%);
	  grid-area:interface;
      } .kalIndices, .kalFractions, .kalDecimals, .kalFrequencies {
	  border:solid 1px black;
      }
    </style>
  </head>
  <body>
    <section id='kaleidoscope'></section>
    <section id='legend'>&nbsp;</section>
    <section id='interface'>&nbsp;</section>
  </body>
  <script>
      const kaleidoscope = document.getElementById('kaleidoscope');
    const legend = document.getElementById('legend');
    const interface = document.getElementById('interface');
    
       let indexNode, indexText, fractionNode, fractionText, decimalNode, decimalText,
	  frequencyNode, frequencyText;
      
    function render() {
	for (let i = 0; i < scale.length; i++) {
	    
	    indexNode = document.createElement('div');
	    indexText = document.createTextNode(i);
	    indexNode.setAttribute('class', 'kalIndices');
	    indexNode.appendChild(indexText);
	    
	    fractionNode = document.createElement('div');
	    fractionText = document.createTextNode(scale[i].fraction);
	    fractionNode.setAttribute('class', 'kalFractions');
	    fractionNode.appendChild(fractionText);


	    decimalNode = document.createElement('div');
	    decimalText = document.createTextNode(eval(scale[i].decimal).toFixed(2));
	    decimalNode.setAttribute('class', 'kalDecimals');
	    decimalNode.appendChild(decimalText);

	    
	    frequencyNode = document.createElement('div');
	frequencyText = document.createTextNode(eval(432* eval(scale[i].fraction)).toFixed(2));
	    frequencyNode.setAttribute('class', 'kalFrequencies');
	    frequencyNode.appendChild(frequencyText);
	    
	    
	    kaleidoscope.appendChild(indexNode);
	    kaleidoscope.appendChild(fractionNode);
	    kaleidoscope.appendChild(decimalNode);
	    kaleidoscope.appendChild(frequencyNode);
	    
	}
      }

    render()

    const kalIndices = document.getElementsByClassName('kalIndices');
    const kalFractions = document.getElementsByClassName('kalFractions');
    const kalDecimals = document.getElementsByClassName('kalDecimals');
    const kalFrequencies = document.getElementsByClassName('kalFrequencies');
    


  </script>
</html>
